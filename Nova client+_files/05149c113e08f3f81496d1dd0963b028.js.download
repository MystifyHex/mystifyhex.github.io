(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var m=ca(this);function da(a,b){if(b)a:{var c=m;a=a.split(".");for(var d=0;d<a.length-1;d++){var h=a[d];if(!(h in c))break a;c=c[h]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
function ea(a){return a.raw=a}function n(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var fa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},q;
if("function"==typeof Object.setPrototypeOf)q=Object.setPrototypeOf;else{var r;a:{var ha={a:!0},t={};try{t.__proto__=ha;r=t.a;break a}catch(a){}r=!1}q=r?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var v=q;
function w(a,b){a.prototype=fa(b.prototype);a.prototype.constructor=a;if(v)v(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.J=b.prototype}
da("Promise",function(a){function b(e){this.h=0;this.i=void 0;this.g=[];this.s=!1;var f=this.j();try{e(f.resolve,f.reject)}catch(g){f.reject(g)}}function c(){this.g=null}function d(e){return e instanceof b?e:new b(function(f){f(e)})}if(a)return a;c.prototype.h=function(e){if(null==this.g){this.g=[];var f=this;this.i(function(){f.l()})}this.g.push(e)};var h=m.setTimeout;c.prototype.i=function(e){h(e,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var f=0;f<e.length;++f){var g=
e[f];e[f]=null;try{g()}catch(k){this.j(k)}}}this.g=null};c.prototype.j=function(e){this.i(function(){throw e;})};b.prototype.j=function(){function e(k){return function(l){g||(g=!0,k.call(f,l))}}var f=this,g=!1;return{resolve:e(this.A),reject:e(this.l)}};b.prototype.A=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof b)this.C(e);else{a:switch(typeof e){case "object":var f=null!=e;break a;case "function":f=!0;break a;default:f=!1}f?this.v(e):this.o(e)}};
b.prototype.v=function(e){var f=void 0;try{f=e.then}catch(g){this.l(g);return}"function"==typeof f?this.D(f,e):this.o(e)};b.prototype.l=function(e){this.u(2,e)};b.prototype.o=function(e){this.u(1,e)};b.prototype.u=function(e,f){if(0!=this.h)throw Error("Cannot settle("+e+", "+f+"): Promise already settled in state"+this.h);this.h=e;this.i=f;2===this.h&&this.B();this.F()};b.prototype.B=function(){var e=this;h(function(){if(e.G()){var f=m.console;"undefined"!==typeof f&&f.error(e.i)}},1)};b.prototype.G=
function(){if(this.s)return!1;var e=m.CustomEvent,f=m.Event,g=m.dispatchEvent;if("undefined"===typeof g)return!0;"function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof f?e=new f("unhandledrejection",{cancelable:!0}):(e=m.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e));e.promise=this;e.reason=this.i;return g(e)};b.prototype.F=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)U.h(this.g[e]);this.g=null}};var U=new c;b.prototype.C=
function(e){var f=this.j();e.m(f.resolve,f.reject)};b.prototype.D=function(e,f){var g=this.j();try{e.call(f,g.resolve,g.reject)}catch(k){g.reject(k)}};b.prototype.then=function(e,f){function g(p,u){return"function"==typeof p?function(F){try{k(p(F))}catch(G){l(G)}}:u}var k,l,H=new b(function(p,u){k=p;l=u});this.m(g(e,k),g(f,l));return H};b.prototype.catch=function(e){return this.then(void 0,e)};b.prototype.m=function(e,f){function g(){switch(k.h){case 1:e(k.i);break;case 2:f(k.i);break;default:throw Error("Unexpected state: "+
k.h);}}var k=this;null==this.g?U.h(g):this.g.push(g);this.s=!0};b.resolve=d;b.reject=function(e){return new b(function(f,g){g(e)})};b.race=function(e){return new b(function(f,g){for(var k=n(e),l=k.next();!l.done;l=k.next())d(l.value).m(f,g)})};b.all=function(e){var f=n(e),g=f.next();return g.done?d([]):new b(function(k,l){function H(F){return function(G){p[F]=G;u--;0==u&&k(p)}}var p=[],u=0;do p.push(void 0),u++,d(g.value).m(H(p.length-1),l),g=f.next();while(!g.done)})};return b});var ia=this||self;
function x(a,b){a=a.split(".");var c=ia;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var ja="function"===typeof Uint8Array,ka={H:{value:!0,configurable:!0}};function y(a){Array.isArray(a)&&!Object.isFrozen(a)&&Object.defineProperties(a,ka);return a};function z(){}var A;function B(a,b,c){a.i=null;A&&(b||(b=A),A=null);var d=a.constructor.I;b||(b=d?[d]:[]);a.j=d?0:-1;a.g=b;a:{if(b=a.g.length)if(--b,d=a.g[b],!(null===d||"object"!=typeof d||Array.isArray(d)||ja&&d instanceof Uint8Array)){a.l=b-a.j;a.h=d;break a}a.l=Number.MAX_VALUE}a.o={};if(c)for(b=0;b<c.length;b++)if(d=c[b],d<a.l){d+=a.j;var h=a.g[d];h?y(h):a.g[d]=C}else D(a),(h=a.h[d])?y(h):a.h[d]=C}var C=Object.freeze(y([]));function D(a){var b=a.l+a.j;a.g[b]||(a.h=a.g[b]={})}
function E(a,b){if(b<a.l){b+=a.j;var c=a.g[b];return c!==C?c:a.g[b]=y([])}if(a.h)return c=a.h[b],c!==C?c:a.h[b]=y([])}function I(a,b){a=E(a,b);return null==a?a:!!a}function J(a,b){a=E(a,b);return null==a?0:a}function la(a){var b=void 0===b?!1:b;a=I(a,1);return null==a?b:a}function K(a,b,c){b<a.l?a.g[b+a.j]=c:(D(a),a.h[b]=c)}function L(a,b,c,d){c!==d?K(a,b,c):b<a.l?a.g[b+a.j]=null:(D(a),delete a.h[b])}function M(a,b,c){a.i||(a.i={});if(!a.i[c]){var d=E(a,c);d&&(a.i[c]=new b(d))}return a.i[c]}
function N(a){if(a.i)for(var b in a.i){var c=a.i[b];if(Array.isArray(c))for(var d=0;d<c.length;d++)c[d]&&N(c[d]);else c&&N(c)}return a.g}function O(a,b){A=b=b?JSON.parse(b):null;a=new a(b);A=null;return a}z.prototype.toString=function(){return N(this).toString()};function P(a){B(this,a,ma)}w(P,z);var ma=[17];function Q(a){B(this,a,na)}w(Q,z);var na=[8];function R(a){B(this,a,oa)}w(R,z);var oa=[27];function S(a){B(this,a,null)}w(S,z);function pa(a){B(this,a,null)}w(pa,z);function qa(a){B(this,a,ra)}w(qa,z);var ra=[1,2,3];function sa(a){B(this,a,ta)}w(sa,z);var ta=[12];var ua={};function va(){}function T(a,b){if(b!==ua)throw Error("Bad secret");this.g=a}w(T,va);T.prototype.toString=function(){return this.g};var wa="href rel src srcdoc action formaction sandbox cite srccite poster icon style".split(" ");var xa=ea(["x-"]);
(function(a){if(!Array.isArray(a)||!Array.isArray(a.raw))throw new TypeError("safeAttr is a template literal tag function and should be called using the tagged template syntax. For example, safeAttr`foo`;");var b=a[0].toLowerCase();wa.forEach(function(c){if(0===c.indexOf(b))throw Error("Prefix '"+a[0]+"' does not guarantee the attribute to be safe as it is also a prefix for the security sensitive attribute '"+(c+"'. Please use native or safe DOM APIs to set the attribute."));});return new T(b,ua)})(xa);function V(a,b){a=a.getElementsByTagName("META");for(var c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function ya(a,b){this.head=a;this.body=b;V(b,"sampling_mod");a=V(b,"namespace");if(!a){a=Math.random;a="ns-"+a().toString(36).substr(2,5);a:{var c=void 0===c?0:c;for(var d=b.getElementsByTagName("META"),h=0;h<d.length;++h)if("namespace"===d[h].getAttribute("name")&&d[h].getAttribute("index")===c.toString()){d[h].setAttribute("content",a);break a}d=b.querySelector("#mys-meta");d||(d=document.createElement("div"),d.id="mys-meta",d.style.position="absolute",d.style.display="none",b.appendChild(d));b=
document.createElement("META");b.setAttribute("name","namespace");b.setAttribute("content",a);b.setAttribute("index",c.toString());d.appendChild(b)}}}function W(a,b){b=new CustomEvent(b);a.body.dispatchEvent(b)}ya.prototype.addEventListener=function(a,b){this.body.addEventListener(a,b)};function za(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function Aa(a,b){this.context=a;this.i=b;this.h=za("SPAN");this.g=za("DIV");this.h.style.fontSize="6px";this.h.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.h)}
Aa.prototype.wait=function(){var a=this;if(!la(this.i)&&(W(this.context,"spanStart"),this.context.body.appendChild(this.g),!Ba(this)))return new Promise(function(b){var c=setInterval(function(){Ba(a)&&(clearInterval(c),b())},J(a.i,3))})};function Ba(a){if(1>=a.h.offsetWidth||1>=a.h.offsetHeight)return!1;a.g.remove();W(a.context,"spanReady");return!0};function Ca(a){this.h=0;this.i=M(a,R,1);this.g=M(a,Q,12)||new Q;this.h=a=J(a,2);2===a&&(K(this.g,6,!1),K(this.g,7,!1));M(this.i,P,10)||new P};function X(a,b){this.context=a;this.j=b;new sa;this.g=0}function Da(a){a.g&=-31}function Y(a,b){a.g|=b}X.prototype.h=function(){};function Ea(a,b,c,d){this.context=new ya(a,b);this.g=d(this.context,c)}function Fa(a){O(qa,V(a.context.body,"engine_msg")||"[]");return a.g.h()||Promise.resolve()}
function Ga(a){var b;Da(a.g);Y(a.g,1);null===(b=window.AFMA_Communicator)||void 0===b?void 0:b.addEventListener("onshow",function(){Y(a.g,32)});var c=0,d=a.context.body;d.addEventListener("browserRender",function(){++c;if(1===c)W(a.context,"overallStart"),Fa(a).then(function(){W(a.context,"overallQuiet")});else{var h=d.clientHeight;d.clientWidth&&h&&Fa(a)}})};function Ha(){this.h=this.g=!1;this.i=[]}function Ia(a){a.i.length=0;a.h=!0}function Ja(a,b){function c(){a.h=!1;var d=a.i.shift();return void 0===d?(a.g=!1,Promise.resolve()):Ja(a,d())}a.g=!0;return b?b.then(c,function(){if(a.h)return c();a.g=!1;return Promise.reject()}):c()}function Ka(a,b){b=n(b);for(var c=b.next();!c.done;c=b.next())a.i.push(c.value);if(!a.g)return Ja(a)};function Z(){X.apply(this,arguments);this.i=new Ha}w(Z,X);
Z.prototype.h=function(){var a=this;Ia(this.i);return Ka(this.i,[function(){},function(){var b,c=a.j,d=new S;L(d,3,100,0);L(d,4,1E4,0);I(c.g,4)?(L(d,6,!0,!1),L(d,7,"monospace",""),L(d,8,"IMWimw0.!?@","")):(I(c.g,5)&&L(d,9,!0,!1),L(d,5,!0,!1));I(c.g,3)&&L(d,2,!0,!1);2===c.h&&L(d,2,!0,!1);d&&(b=(new Aa(a.context,d)).wait());W(a.context,"browserStart");W(a.context,"browserStartEnd");Da(a);Y(a,2);return b},function(){W(a.context,"browserReady");W(a.context,"browserReadyEnd");Y(a,4);W(a.context,"overallReady")},
function(){W(a.context,"browserQuiet");W(a.context,"browserQuietEnd");Y(a,8)}])};(function(a){var b=null;x("mys.engine.init",function(c,d){var h=O(pa,V(d,"render_config")||"[]");b=new Ea(c,d,h,a);Ga(b)});x("mys.engine.stage",function(){return b?b.g.g:0})})(function(a,b){b=new Ca(b);return new Z(a,b)});}).call(this);
